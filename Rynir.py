# -*- coding: utf-8 -*-

from DmGateway import DmGateway
from Notifier import Notifier
from Parser import Parser


class Rynir:
	def __init__(self):
		gate = DmGateway()
		self.parser = Parser(gate)
		self.notifier = Notifier()
	
	#param: querystring or list of querystrings
	#return: returns list of reports, generated by Notifier.getReports
	def analyze(self, inQueryString):
		if type(inQueryString) == list:
			ret = []
			for item in inQueryString:
				dset = self.parser.parse( item )
				ret.append( self.notifier.getReport( dset ) )
			return ret	
		else:
			dset = self.parser.parse( inQueryString )
			return [self.notifier.getReport( dset )]
		
